{"ast":null,"code":"import { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction EventoListComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Carregando eventos...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1, a2, a3) {\n  return {\n    \"bg-secondary\": a0,\n    \"bg-info\": a1,\n    \"bg-danger\": a2,\n    \"bg-success\": a3\n  };\n};\nconst _c1 = function (a1) {\n  return [\"/admin/eventos/editar\", a1];\n};\nfunction EventoListComponent_div_9_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"span\", 14);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\", 15);\n    i0.ɵɵtext(16, \" \\u270F\\uFE0F Editar \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const evento_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(evento_r4.nome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 7, evento_r4.dataInicio));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 9, evento_r4.dataFim));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(evento_r4.organizadorNome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(11, _c0, evento_r4.status === \"Criado\", evento_r4.status === \"Em andamento\", evento_r4.status === \"Cancelado\", evento_r4.status === \"Finalizado\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", evento_r4.status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(16, _c1, evento_r4.id));\n  }\n}\nfunction EventoListComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"table\", 12)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Nome\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Data In\\u00EDcio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Data Fim\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Organizador\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"A\\u00E7\\u00F5es\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, EventoListComponent_div_9_tr_17_Template, 17, 18, \"tr\", 13);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.eventos);\n  }\n}\nfunction EventoListComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \" Nenhum evento cadastrado.\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class EventoListComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.apiUrl = 'assets/eventos.json';\n    this.eventos = [];\n    this.carregando = false;\n  }\n  ngOnInit() {\n    this.getEventos();\n  }\n  getEventos() {\n    return this.http.get(this.apiUrl);\n  }\n  getEventoById(id) {\n    return this.http.get(this.apiUrl).pipe(map(eventos => eventos.find(e => e.id === id)));\n  }\n  carregarEventos() {\n    this.carregando = true;\n    this.http.get('/api/eventos').subscribe({\n      next: res => {\n        this.eventos = res;\n        this.carregando = false;\n      },\n      error: err => {\n        console.error('Erro ao buscar eventos', err);\n        this.carregando = false;\n      }\n    });\n  }\n  novo() {\n    this.router.navigate(['/admin/eventos/novo']);\n  }\n  editar(id) {\n    this.router.navigate([`/admin/eventos/${id}/editar`]);\n  }\n  sections(id) {\n    this.router.navigate([`/admin/eventos/${id}/sections`]);\n  }\n  static {\n    this.ɵfac = function EventoListComponent_Factory(t) {\n      return new (t || EventoListComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EventoListComponent,\n      selectors: [[\"app-evento-list\"]],\n      decls: 11,\n      vars: 3,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-3\"], [1, \"mb-0\"], [1, \"bi\", \"bi-calendar-event\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"bi\", \"bi-plus-circle\"], [\"class\", \"text-center py-4\", 4, \"ngIf\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [1, \"text-center\", \"py-4\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"badge\", 3, \"ngClass\"], [1, \"btn\", \"btn-sm\", \"btn-outline-primary\", 3, \"routerLink\"], [1, \"alert\", \"alert-info\"]],\n      template: function EventoListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n          i0.ɵɵelement(3, \"i\", 3);\n          i0.ɵɵtext(4, \" Eventos \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function EventoListComponent_Template_button_click_5_listener() {\n            return ctx.novo();\n          });\n          i0.ɵɵelement(6, \"i\", 5);\n          i0.ɵɵtext(7, \" Novo Evento \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(8, EventoListComponent_div_8_Template, 4, 0, \"div\", 6);\n          i0.ɵɵtemplate(9, EventoListComponent_div_9_Template, 18, 1, \"div\", 7);\n          i0.ɵɵtemplate(10, EventoListComponent_div_10_Template, 2, 0, \"div\", 8);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", ctx.carregando);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.carregando && ctx.eventos.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.carregando && ctx.eventos.length === 0);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i2.RouterLink, i3.DatePipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["map","i0","EventoListComponent","constructor","http","router","ngOnInit","getEventos","get","apiUrl","getEventoById","id","pipe","eventos","find","e","carregarEventos","carregando","subscribe","next","res","error","err","console","novo","navigate","editar","sections","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/will.i.am/git/rcc-evento-app/src/app/admin/evento-list/evento-list.component.ts","/Users/will.i.am/git/rcc-evento-app/src/app/admin/evento-list/evento-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { map, Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-evento-list',\n  templateUrl: './evento-list.component.html'\n})\nexport class EventoListComponent implements OnInit {\n  private apiUrl = 'assets/eventos.json';\n  eventos: any[] = [];\n  carregando = false;\n  \n  constructor(private http: HttpClient, private router: Router) {}\n  \n  ngOnInit() {\n    this.getEventos();\n  }\n\n  getEventos(): Observable<any[]> {\n    return this.http.get<any[]>(this.apiUrl);\n  }\n\n  getEventoById(id: number): Observable<any> {\n    return this.http.get<any[]>(this.apiUrl).pipe(\n      map(eventos => eventos.find(e => e.id === id))\n    );\n  }\n  \n  carregarEventos() {\n    this.carregando = true;\n    \n    this.http.get<any[]>('/api/eventos').subscribe({\n      next: res => {\n    \n        this.eventos = res;\n        this.carregando = false;\n      },\n      error: err => {\n        console.error('Erro ao buscar eventos', err);\n        this.carregando = false;\n      }\n    });\n  }\n  \n  novo() {\n    this.router.navigate(['/admin/eventos/novo']);\n  }\n  \n  editar(id: number) {\n    this.router.navigate([`/admin/eventos/${id}/editar`]);\n  }\n  \n  sections(id: number) {\n    this.router.navigate([`/admin/eventos/${id}/sections`]);\n  }\n}\n","<div class=\"container mt-4\">\n    <div class=\"d-flex justify-content-between align-items-center mb-3\">\n        <h2 class=\"mb-0\">\n            <i class=\"bi bi-calendar-event\"></i> Eventos\n        </h2>\n        <button class=\"btn btn-primary\" (click)=\"novo()\">\n            <i class=\"bi bi-plus-circle\"></i> Novo Evento\n        </button>\n    </div>\n    \n    <div *ngIf=\"carregando\" class=\"text-center py-4\">\n        <div class=\"spinner-border text-primary\" role=\"status\"></div>\n        <p>Carregando eventos...</p>\n    </div>\n    \n    <div *ngIf=\"!carregando && eventos.length > 0\" class=\"table-responsive\">\n        <table class=\"table table-striped\">\n            <thead>\n                <tr>\n                    <th>Nome</th>\n                    <th>Data Início</th>\n                    <th>Data Fim</th>\n                    <th>Organizador</th>\n                    <th>Status</th>\n                    <th>Ações</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let evento of eventos\">\n                    <td>{{ evento.nome }}</td>\n                    <td>{{ evento.dataInicio | date }}</td>\n                    <td>{{ evento.dataFim | date }}</td>\n                    <td>{{ evento.organizadorNome }}</td>\n                    <td>\n                        <span\n                        class=\"badge\"\n                        [ngClass]=\"{\n                            'bg-secondary': evento.status === 'Criado',\n                            'bg-info': evento.status === 'Em andamento',\n                            'bg-danger': evento.status === 'Cancelado',\n                            'bg-success': evento.status === 'Finalizado'\n                        }\"\n                        >\n                        {{ evento.status }}\n                        </span>\n                    </td>\n                    <td>\n                        <button class=\"btn btn-sm btn-outline-primary\"\n                        [routerLink]=\"['/admin/eventos/editar', evento.id]\">\n                        ✏️ Editar\n                        </button>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n<div *ngIf=\"!carregando && eventos.length === 0\" class=\"alert alert-info\">\n    Nenhum evento cadastrado.\n</div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}